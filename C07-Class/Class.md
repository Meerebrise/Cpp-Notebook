# 第七章 类

## 7.1 定义抽象数据类型

### 7.1.1 **成员函数相关**

*   **定义**：为类的一部分的函数，有时也被称为方法(method)。

* 成员函数的**声明必须在类的内部**，而定义可以在类的内部或者外部,定义在类内部的函数是
隐式的inline函数。

* 点运算符符用于获取类对象的成员。

* total.isbn() (isbn为成员函数)：成员函数通过一个名为**this**的额外参数来访问调用它的对象。
当调用成员函数时，用请求该函数的对象的地址来初始化参数**this**。
在这里相当于：``` Sales_data::isbn(&total) ``` 。

* 在成员函数内部，可以直接使用调用该函数的对象的成员而无需成员访问符。任何对类成员的直接访问都被看作this的隐式引用。就像书写了this->bookNo.

### 7.1.2 **常量成员函数(const member function)**

* 成员函数后面紧跟的"const"用于修改隐式this指针的类型。

* this是一个常量指针(**const pointer**)，也即无法改变this中保存的地址。 默认情况下指向类类型为**非常量版本的常量指针**。在本例中为(``` Sales_data *const ``` )。

* **常量对象，以及常量对象引用或者指针都只能调用常量成员函数**。

---

### 7.1.3 类作用域和成员函数

* 编译器分两步处理类:首先编译成员的声明，然后才轮到成员函数 。

### 7.1.4 在类的外部定义成员函数

* 类外部定义的成员函数必须包含它**所属的类名**。

### 7.1.5 构造函数

* 任务:初始化类对象的数据成员，无论何时只要类的对象被创建，就会执行构造函数。

* 构造函数不能被声明成**const**。当创建一个类的const对象时，直到构造函数完成初始化过程，对象才能真正取得**"常量"**属性。

* 默认构造函数执行过程：

> 如果存在类内初始值，则用它来初始成员

> 否则，默认初始化。

* C++ 11规定，可以为数据成员提供一个类内初始值。

### 7.1.6 构造函数初始值列表

* 冒号以及冒号和花括号之间的代码称为构造函数初始值列表，用来为新创建的对象的一个或几个数据成员赋初值。

* 当某个数据成员被构造函数初始值列表忽略时，它将以与默认构造函数相同的方式隐式初始化。

* 和其他成员函数一样，当我们在类的外部定义构造函数时，需要指明该构造函数是哪个类的成员。

## 7.2 访问控制与封装

### 7.2.1 访问控制与封装

* 定义在private说明符之后的成员可以被类的成员函数访问，非类的成员函数不能访问，要借助友元这个概念。

* struct与class的默认访问权限不一样。

* 类可以在第一个访问说明符之前定义成员，这种成员的访问权限依赖于类定义的方式

> struct：第一个说明符之前的成员为public

> class: private

* 希望类的所有成员为public，用struct。

* 希望类的成员为private则用private。

### 7.2.2 友元

* 类允许其他类或者函数访问该类的私有成员，即令他们成为它的友元(friend)。另一个函数成为它的友元，只需增加一条以**friend**关键字开始的函数声明语句即可。

* 友元声明只能出现在类定义的内部，具体位置不限。

## 7.3 类的其他特性

## 7.4 类的作用域

## 7.5 构造函数再探

## 7.6 类的静态成员


